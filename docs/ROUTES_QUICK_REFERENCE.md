# ğŸ¯ Quick Routes Reference

à¸ªà¸£à¸¸à¸›à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡à¸«à¸¥à¸±à¸à¹† à¹à¸šà¸šà¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸‡à¹ˆà¸²à¸¢ à¸ªà¸³à¸«à¸£à¸±à¸šà¸”à¸¹à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡à¸£à¸§à¸”à¹€à¸£à¹‡à¸§

---

## ğŸŒ Public (à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ Login)

```
/                    â†’ à¸«à¸™à¹‰à¸²à¹à¸£à¸
/features            â†’ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
/pricing             â†’ à¸£à¸²à¸„à¸²
/contact             â†’ à¸•à¸´à¸”à¸•à¹ˆà¸­à¹€à¸£à¸²
/analysis            â†’ à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸œà¸´à¸§ (Demo)
/ar-simulator        â†’ AR Simulator (Demo)
/auth/login          â†’ Login
```

---

## ğŸ‘¤ Customer (à¸¥à¸¹à¸à¸„à¹‰à¸²à¸—à¸±à¹ˆà¸§à¹„à¸›)

### Main Features
```
/dashboard           â†’ Dashboard à¸¥à¸¹à¸à¸„à¹‰à¸²
/profile             â†’ à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ
/analysis            â†’ à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸œà¸´à¸§à¸«à¸™à¹‰à¸²
/analysis/history    â†’ à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ
/analysis/results    â†’ à¸œà¸¥à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸¥à¹ˆà¸²à¸ªà¸¸à¸”
/booking             â†’ à¸ˆà¸­à¸‡à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢
/ai-chat             â†’ à¸›à¸£à¸¶à¸à¸©à¸² AI
/ar-simulator        â†’ à¸—à¸”à¸¥à¸­à¸‡ AR
```

---

## ğŸ¥ Clinic Owner (à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸„à¸¥à¸´à¸™à¸´à¸)

### Main Features
```
/clinic/dashboard    â†’ Dashboard à¸„à¸¥à¸´à¸™à¸´à¸
/branches            â†’ à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸²à¸‚à¸² â­ NEW
/customers           â†’ à¸ˆà¸±à¸”à¸à¸²à¸£à¸¥à¸¹à¸à¸„à¹‰à¸²
/clinic/staff        â†’ à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸™à¸±à¸à¸‡à¸²à¸™
/analytics           â†’ à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
/inventory           â†’ à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸•à¹‡à¸­à¸
/reports             â†’ à¸£à¸²à¸¢à¸‡à¸²à¸™
/ai-chat             â†’ AI Advisor
```

### Branch Management (à¸ªà¸²à¸‚à¸²)
```
/branches                    â†’ à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸²à¸‚à¸²
/branches?clinic_id=xxx      â†’ à¸ªà¸²à¸‚à¸²à¸‚à¸­à¸‡à¸„à¸¥à¸´à¸™à¸´à¸à¸™à¸µà¹‰
```

---

## ğŸ’¼ Sales Staff (à¸à¸™à¸±à¸à¸‡à¸²à¸™à¸‚à¸²à¸¢)

### Main Features
```
/sales/dashboard             â†’ Dashboard Sales
/sales/leads                 â†’ à¸ˆà¸±à¸”à¸à¸²à¸£ Leads
/sales/proposals             â†’ à¹ƒà¸šà¹€à¸ªà¸™à¸­à¸£à¸²à¸„à¸²
/sales/performance           â†’ à¸œà¸¥à¸‡à¸²à¸™
/sales/notes                 â†’ à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸¹à¸à¸„à¹‰à¸²
```

### Mobile Sales Tools
```
/sales/wizard/[id]           â†’ Sales Wizard (Mobile)
/sales/quick-scan            â†’ Quick Scan
/sales/presentations         â†’ à¸‡à¸²à¸™à¸™à¸³à¹€à¸ªà¸™à¸­
/sales/presentation/[id]     â†’ à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸‡à¸²à¸™à¸™à¸³à¹€à¸ªà¸™à¸­
```

---

## ğŸ”§ Super Admin

### Main Features

```
/super-admin         â†’ Super Admin Dashboard
/users               â†’ à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
/settings            â†’ à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸£à¸°à¸šà¸š
```

### Admin Tools (Shared with Clinic Owner)

```
/admin               â†’ Admin Dashboard
/admin/websocket     â†’ WebSocket Monitor
/admin/broadcast     â†’ Broadcast Messages
/admin/fix-rls       â†’ Fix RLS Policies
```

**Note:** `/admin/*` routes accessible by both `super_admin` and `clinic_owner`

---

## ğŸ”Œ API Endpoints (à¸ªà¸³à¸„à¸±à¸)

### Analysis
```
POST /api/analyze                â†’ à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸œà¸´à¸§
GET  /api/analysis/history       â†’ à¸›à¸£à¸°à¸§à¸±à¸•à¸´
```

### Branches
```
GET    /api/branches             â†’ à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸²à¸‚à¸²
POST   /api/branches             â†’ à¸ªà¸£à¹‰à¸²à¸‡à¸ªà¸²à¸‚à¸²
GET    /api/branches/[id]        â†’ à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸ªà¸²à¸‚à¸²
PATCH  /api/branches/[id]        â†’ à¹à¸à¹‰à¹„à¸‚à¸ªà¸²à¸‚à¸²
DELETE /api/branches/[id]        â†’ à¸¥à¸šà¸ªà¸²à¸‚à¸²
```

### Sales
```
GET  /api/sales/hot-leads        â†’ Hot Leads
GET  /api/sales/metrics          â†’ Sales Metrics
POST /api/sales/proposals        â†’ à¸ªà¸£à¹‰à¸²à¸‡ Proposal
```

### Auth
```
GET  /api/auth/check-role        â†’ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Role
POST /api/auth/logout            â†’ Logout
```

---

## ğŸ­ Role-Based Access

| Route | Owner | Admin | Staff | Sales | Customer | Super Admin |
|-------|-------|-------|-------|-------|----------|
| `/clinic/*` | âœ… | âœ… | âœ… | âŒ | âŒ | âŒ |
| `/branches` | âœ… Full | âœ… Full | âœ… View | âŒ | âŒ | âŒ |
| `/sales/*` | âŒ | âŒ | âŒ | âœ… | âŒ | âŒ |
| `/admin/*` | âœ… | âŒ | âŒ | âŒ | âŒ | âœ… |
| `/super-admin` | âŒ | âŒ | âŒ | âŒ | âŒ | âœ… |
| `/dashboard` | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| `/analysis/*` | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |

---

## ğŸš€ Quick Navigation Map

```
Landing (/)
â”œâ”€â”€ Features (/features)
â”œâ”€â”€ Pricing (/pricing)
â””â”€â”€ Login (/auth/login)
    â”‚
    â”œâ”€â”€â”€ Customer Login
    â”‚    â””â”€â”€ Dashboard â†’ Analysis â†’ Booking â†’ Profile
    â”‚
    â”œâ”€â”€â”€ Clinic Owner Login
    â”‚    â””â”€â”€ Dashboard â†’ Branches â†’ Customers â†’ Analytics â†’ Admin Tools
    â”‚
    â”œâ”€â”€â”€ Sales Staff Login
    â”‚    â””â”€â”€ Dashboard â†’ Leads â†’ Proposals â†’ Performance
    â”‚
    â””â”€â”€â”€ Super Admin Login
         â””â”€â”€ Dashboard â†’ Tenants â†’ Users â†’ Settings â†’ Admin Tools
```

---

## ğŸ”’ Protected Routes (à¸•à¹‰à¸­à¸‡ Login)

```typescript
// Patterns à¸—à¸µà¹ˆ Middleware à¸›à¹‰à¸­à¸‡à¸à¸±à¸™:
[
  "/clinic",          // clinic_owner, clinic_admin, clinic_staff
  "/branches",        // clinic_owner, clinic_admin, clinic_staff
  "/sales",           // sales_staff only
  "/admin",           // clinic_owner OR super_admin (shared)
  "/super-admin",     // super_admin only
  "/dashboard",       // All authenticated
  "/profile",         // All authenticated
  "/booking",         // All authenticated
  "/analysis/history" // All authenticated
]
```

---

## ğŸŒ Multi-language Support

```
/en/analysis    â†’ English
/th/analysis    â†’ à¹„à¸—à¸¢
```

Default: Auto-detect or `/th/` (Thai)

---

## ğŸ“± Mobile-Optimized Routes

```
/sales/wizard/[id]              â†’ Sales Wizard
/sales/mobile-presentation/[id] â†’ Mobile Presentation
/sales/quick-scan               â†’ Quick Scan
/mobile-test                    â†’ Mobile Test Page
```

---

## ğŸª Demo Routes

```
/demo                   â†’ General Demo
/demo/ai                â†’ AI Demo
/booking-demo           â†’ Booking Demo
/ai-chat-demo           â†’ AI Chat Demo
/progress-tracking-demo â†’ Progress Tracking Demo
/pwa-demo               â†’ PWA Demo
/i18n-demo              â†’ i18n Demo
```

---

## âš ï¸ Common Issues

### 1. **Redirect Loop**
```
Problem: Keeps redirecting to /auth/login
Solution: Check role in database matches required role
```

### 2. **403 Access Denied**
```
Problem: Can't access /clinic or /branches
Solution: User must have role: clinic_owner, clinic_admin, or clinic_staff
```

### 3. **404 Not Found**
```
Problem: Route doesn't exist
Solution: Check if route is under /[locale]/ prefix (e.g., /th/analysis)
```

---

## ğŸ“ Need Help?

1. Check middleware: `lib/supabase/middleware.ts`
2. Check navigation: `components/header.tsx`
3. Check permissions: `hooks/useClinicContext.ts`
4. Full documentation: `docs/ROUTES_STRUCTURE.md`

---

**Last Updated:** November 9, 2025  
**Quick Access:** Keep this file open for fast reference!
